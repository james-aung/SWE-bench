{"url": "https://api.github.com/repos/marl/pysox/pulls/164", "id": 1764099831, "node_id": "PR_kwDOA3CmLM5pJgb3", "html_url": "https://github.com/marl/pysox/pull/164", "diff_url": "https://github.com/marl/pysox/pull/164.diff", "patch_url": "https://github.com/marl/pysox/pull/164.patch", "issue_url": "https://api.github.com/repos/marl/pysox/issues/164", "number": 164, "state": "closed", "locked": false, "title": "Revert \"Fix bitrate parsing for cross-platform environment\"", "user": {"login": "lostanlen", "id": 3943142, "node_id": "MDQ6VXNlcjM5NDMxNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lostanlen", "html_url": "https://github.com/lostanlen", "followers_url": "https://api.github.com/users/lostanlen/followers", "following_url": "https://api.github.com/users/lostanlen/following{/other_user}", "gists_url": "https://api.github.com/users/lostanlen/gists{/gist_id}", "starred_url": "https://api.github.com/users/lostanlen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lostanlen/subscriptions", "organizations_url": "https://api.github.com/users/lostanlen/orgs", "repos_url": "https://api.github.com/users/lostanlen/repos", "events_url": "https://api.github.com/users/lostanlen/events{/privacy}", "received_events_url": "https://api.github.com/users/lostanlen/received_events", "type": "User", "site_admin": false}, "body": "Reverts rabitt/pysox#140\r\n\r\n@nullptr-0 PR #140 passed your test but broke other tests!\r\n\r\n\r\n```python\r\n____________________________ TestBitrate.test_aiff _____________________________\r\n\r\nself = <test_file_info.TestBitrate testMethod=test_aiff>\r\n\r\n    def test_aiff(self):\r\n        actual = file_info.bitrate(INPUT_FILE2)\r\n        expected = 768000.0\r\n>       self.assertEqual(expected, actual)\r\nE       AssertionError: 768000.0 != 7000.0\r\n\r\ntests/test_file_info.py:64: AssertionError\r\n_____________________________ TestBitrate.test_wav _____________________________\r\n\r\nself = <test_file_info.TestBitrate testMethod=test_wav>\r\n\r\n    def test_wav(self):\r\n        actual = file_info.bitrate(INPUT_FILE)\r\n        expected = 706000.0\r\n>       self.assertEqual(expected, actual)\r\nE       AssertionError: 706000.0 != 7000.0\r\n\r\ntests/test_file_info.py:54: AssertionError\r\n_________________________ TestBitrate.test_wav_pathlib _________________________\r\n\r\nself = <test_file_info.TestBitrate testMethod=test_wav_pathlib>\r\n\r\n    def test_wav_pathlib(self):\r\n        actual = file_info.bitrate(Path(INPUT_FILE))\r\n        expected = 706000.0\r\n>       self.assertEqual(expected, actual)\r\nE       AssertionError: 706000.0 != 7000.0\r\n\r\ntests/test_file_info.py:59: AssertionError\r\n___________________________ TestInfo.test_dictionary ___________________________\r\n\r\nself = <test_file_info.TestInfo testMethod=test_dictionary>\r\n\r\n    def test_dictionary(self):\r\n        for use_pathlib in [False, True]:\r\n            with self.subTest():\r\n                input_file = Path(INPUT_FILE) if use_pathlib else INPUT_FILE\r\n    \r\n                actual = file_info.info(input_file)\r\n                expected = {\r\n                    'channels': 1,\r\n                    'sample_rate': 44100.0,\r\n                    'bitdepth': 16,\r\n                    'bitrate': 706000.0,\r\n                    'duration': 10.0,\r\n                    'num_samples': 441000,\r\n                    'encoding': 'Signed Integer PCM',\r\n                    'silent': False\r\n                }\r\n>               self.assertEqual(expected, actual)\r\nE               AssertionError: {'cha[59 chars]': 706000.0, 'duration': 10.0, 'num_samples': [53 chars]alse} != {'cha[59 chars]': 7000.0, 'duration': 10.0, 'num_samples': 44[51 chars]alse}\r\nE                 {'bitdepth': 16,\r\nE               -  'bitrate': 706000.0,\r\nE               ?              --\r\nE               \r\nE               +  'bitrate': 7000.0,\r\nE                  'channels': 1,\r\nE                  'duration': 10.0,\r\nE                  'encoding': 'Signed Integer PCM',\r\nE                  'num_samples': 441000,\r\nE                  'sample_rate': 44100.0,\r\nE                  'silent': False}\r\n\r\ntests/test_file_info.py:[34](https://github.com/rabitt/pysox/actions/runs/8215704930/job/22469464052#step:6:35)6: AssertionError\r\n```\r\n\r\nreverting for now\r\n", "created_at": "2024-03-09T16:23:16Z", "updated_at": "2024-03-09T18:12:04Z", "closed_at": "2024-03-09T16:24:19Z", "merged_at": "2024-03-09T16:24:19Z", "merge_commit_sha": "434290765a4e698bf88d6d3752260df3eb24bf18", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/marl/pysox/pulls/164/commits", "review_comments_url": "https://api.github.com/repos/marl/pysox/pulls/164/comments", "review_comment_url": "https://api.github.com/repos/marl/pysox/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/marl/pysox/issues/164/comments", "statuses_url": "https://api.github.com/repos/marl/pysox/statuses/db27de1a65fdd5bcf00edd2268489e57834ae569", "head": {"label": "marl:revert-140-fix-bitrate-parsing", "ref": "revert-140-fix-bitrate-parsing", "sha": "db27de1a65fdd5bcf00edd2268489e57834ae569", "user": {"login": "marl", "id": 9364509, "node_id": "MDEyOk9yZ2FuaXphdGlvbjkzNjQ1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/9364509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marl", "html_url": "https://github.com/marl", "followers_url": "https://api.github.com/users/marl/followers", "following_url": "https://api.github.com/users/marl/following{/other_user}", "gists_url": "https://api.github.com/users/marl/gists{/gist_id}", "starred_url": "https://api.github.com/users/marl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marl/subscriptions", "organizations_url": "https://api.github.com/users/marl/orgs", "repos_url": "https://api.github.com/users/marl/repos", "events_url": "https://api.github.com/users/marl/events{/privacy}", "received_events_url": "https://api.github.com/users/marl/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 57714220, "node_id": "MDEwOlJlcG9zaXRvcnk1NzcxNDIyMA==", "name": "pysox", "full_name": "marl/pysox", "private": false, "owner": {"login": "marl", "id": 9364509, "node_id": "MDEyOk9yZ2FuaXphdGlvbjkzNjQ1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/9364509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marl", "html_url": "https://github.com/marl", "followers_url": "https://api.github.com/users/marl/followers", "following_url": "https://api.github.com/users/marl/following{/other_user}", "gists_url": "https://api.github.com/users/marl/gists{/gist_id}", "starred_url": "https://api.github.com/users/marl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marl/subscriptions", "organizations_url": "https://api.github.com/users/marl/orgs", "repos_url": "https://api.github.com/users/marl/repos", "events_url": "https://api.github.com/users/marl/events{/privacy}", "received_events_url": "https://api.github.com/users/marl/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/marl/pysox", "description": "Python wrapper around sox.", "fork": false, "url": "https://api.github.com/repos/marl/pysox", "forks_url": "https://api.github.com/repos/marl/pysox/forks", "keys_url": "https://api.github.com/repos/marl/pysox/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/marl/pysox/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/marl/pysox/teams", "hooks_url": "https://api.github.com/repos/marl/pysox/hooks", "issue_events_url": "https://api.github.com/repos/marl/pysox/issues/events{/number}", "events_url": "https://api.github.com/repos/marl/pysox/events", "assignees_url": "https://api.github.com/repos/marl/pysox/assignees{/user}", "branches_url": "https://api.github.com/repos/marl/pysox/branches{/branch}", "tags_url": "https://api.github.com/repos/marl/pysox/tags", "blobs_url": "https://api.github.com/repos/marl/pysox/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/marl/pysox/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/marl/pysox/git/refs{/sha}", "trees_url": "https://api.github.com/repos/marl/pysox/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/marl/pysox/statuses/{sha}", "languages_url": "https://api.github.com/repos/marl/pysox/languages", "stargazers_url": "https://api.github.com/repos/marl/pysox/stargazers", "contributors_url": "https://api.github.com/repos/marl/pysox/contributors", "subscribers_url": "https://api.github.com/repos/marl/pysox/subscribers", "subscription_url": "https://api.github.com/repos/marl/pysox/subscription", "commits_url": "https://api.github.com/repos/marl/pysox/commits{/sha}", "git_commits_url": "https://api.github.com/repos/marl/pysox/git/commits{/sha}", "comments_url": "https://api.github.com/repos/marl/pysox/comments{/number}", "issue_comment_url": "https://api.github.com/repos/marl/pysox/issues/comments{/number}", "contents_url": "https://api.github.com/repos/marl/pysox/contents/{+path}", "compare_url": "https://api.github.com/repos/marl/pysox/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/marl/pysox/merges", "archive_url": "https://api.github.com/repos/marl/pysox/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/marl/pysox/downloads", "issues_url": "https://api.github.com/repos/marl/pysox/issues{/number}", "pulls_url": "https://api.github.com/repos/marl/pysox/pulls{/number}", "milestones_url": "https://api.github.com/repos/marl/pysox/milestones{/number}", "notifications_url": "https://api.github.com/repos/marl/pysox/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/marl/pysox/labels{/name}", "releases_url": "https://api.github.com/repos/marl/pysox/releases{/id}", "deployments_url": "https://api.github.com/repos/marl/pysox/deployments", "created_at": "2016-05-01T18:06:38Z", "updated_at": "2024-08-26T05:00:10Z", "pushed_at": "2024-06-16T22:31:15Z", "git_url": "git://github.com/marl/pysox.git", "ssh_url": "git@github.com:marl/pysox.git", "clone_url": "https://github.com/marl/pysox.git", "svn_url": "https://github.com/marl/pysox", "homepage": null, "size": 4300, "stargazers_count": 510, "watchers_count": 510, "language": "Python", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": true, "forks_count": 79, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 35, "license": {"key": "bsd-3-clause", "name": "BSD 3-Clause \"New\" or \"Revised\" License", "spdx_id": "BSD-3-Clause", "url": "https://api.github.com/licenses/bsd-3-clause", "node_id": "MDc6TGljZW5zZTU="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 79, "open_issues": 35, "watchers": 510, "default_branch": "master"}}, "base": {"label": "marl:master", "ref": "master", "sha": "3c18edf956be56143a8a32a578521e407bb9cd9d", "user": {"login": "marl", "id": 9364509, "node_id": "MDEyOk9yZ2FuaXphdGlvbjkzNjQ1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/9364509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marl", "html_url": "https://github.com/marl", "followers_url": "https://api.github.com/users/marl/followers", "following_url": "https://api.github.com/users/marl/following{/other_user}", "gists_url": "https://api.github.com/users/marl/gists{/gist_id}", "starred_url": "https://api.github.com/users/marl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marl/subscriptions", "organizations_url": "https://api.github.com/users/marl/orgs", "repos_url": "https://api.github.com/users/marl/repos", "events_url": "https://api.github.com/users/marl/events{/privacy}", "received_events_url": "https://api.github.com/users/marl/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 57714220, "node_id": "MDEwOlJlcG9zaXRvcnk1NzcxNDIyMA==", "name": "pysox", "full_name": "marl/pysox", "private": false, "owner": {"login": "marl", "id": 9364509, "node_id": "MDEyOk9yZ2FuaXphdGlvbjkzNjQ1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/9364509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marl", "html_url": "https://github.com/marl", "followers_url": "https://api.github.com/users/marl/followers", "following_url": "https://api.github.com/users/marl/following{/other_user}", "gists_url": "https://api.github.com/users/marl/gists{/gist_id}", "starred_url": "https://api.github.com/users/marl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marl/subscriptions", "organizations_url": "https://api.github.com/users/marl/orgs", "repos_url": "https://api.github.com/users/marl/repos", "events_url": "https://api.github.com/users/marl/events{/privacy}", "received_events_url": "https://api.github.com/users/marl/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/marl/pysox", "description": "Python wrapper around sox.", "fork": false, "url": "https://api.github.com/repos/marl/pysox", "forks_url": "https://api.github.com/repos/marl/pysox/forks", "keys_url": "https://api.github.com/repos/marl/pysox/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/marl/pysox/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/marl/pysox/teams", "hooks_url": "https://api.github.com/repos/marl/pysox/hooks", "issue_events_url": "https://api.github.com/repos/marl/pysox/issues/events{/number}", "events_url": "https://api.github.com/repos/marl/pysox/events", "assignees_url": "https://api.github.com/repos/marl/pysox/assignees{/user}", "branches_url": "https://api.github.com/repos/marl/pysox/branches{/branch}", "tags_url": "https://api.github.com/repos/marl/pysox/tags", "blobs_url": "https://api.github.com/repos/marl/pysox/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/marl/pysox/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/marl/pysox/git/refs{/sha}", "trees_url": "https://api.github.com/repos/marl/pysox/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/marl/pysox/statuses/{sha}", "languages_url": "https://api.github.com/repos/marl/pysox/languages", "stargazers_url": "https://api.github.com/repos/marl/pysox/stargazers", "contributors_url": "https://api.github.com/repos/marl/pysox/contributors", "subscribers_url": "https://api.github.com/repos/marl/pysox/subscribers", "subscription_url": "https://api.github.com/repos/marl/pysox/subscription", "commits_url": "https://api.github.com/repos/marl/pysox/commits{/sha}", "git_commits_url": "https://api.github.com/repos/marl/pysox/git/commits{/sha}", "comments_url": "https://api.github.com/repos/marl/pysox/comments{/number}", "issue_comment_url": "https://api.github.com/repos/marl/pysox/issues/comments{/number}", "contents_url": "https://api.github.com/repos/marl/pysox/contents/{+path}", "compare_url": "https://api.github.com/repos/marl/pysox/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/marl/pysox/merges", "archive_url": "https://api.github.com/repos/marl/pysox/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/marl/pysox/downloads", "issues_url": "https://api.github.com/repos/marl/pysox/issues{/number}", "pulls_url": "https://api.github.com/repos/marl/pysox/pulls{/number}", "milestones_url": "https://api.github.com/repos/marl/pysox/milestones{/number}", "notifications_url": "https://api.github.com/repos/marl/pysox/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/marl/pysox/labels{/name}", "releases_url": "https://api.github.com/repos/marl/pysox/releases{/id}", "deployments_url": "https://api.github.com/repos/marl/pysox/deployments", "created_at": "2016-05-01T18:06:38Z", "updated_at": "2024-08-26T05:00:10Z", "pushed_at": "2024-06-16T22:31:15Z", "git_url": "git://github.com/marl/pysox.git", "ssh_url": "git@github.com:marl/pysox.git", "clone_url": "https://github.com/marl/pysox.git", "svn_url": "https://github.com/marl/pysox", "homepage": null, "size": 4300, "stargazers_count": 510, "watchers_count": 510, "language": "Python", "has_issues": true, "has_projects": false, "has_downloads": true, "has_wiki": false, "has_pages": false, "has_discussions": true, "forks_count": 79, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 35, "license": {"key": "bsd-3-clause", "name": "BSD 3-Clause \"New\" or \"Revised\" License", "spdx_id": "BSD-3-Clause", "url": "https://api.github.com/licenses/bsd-3-clause", "node_id": "MDc6TGljZW5zZTU="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 79, "open_issues": 35, "watchers": 510, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/marl/pysox/pulls/164"}, "html": {"href": "https://github.com/marl/pysox/pull/164"}, "issue": {"href": "https://api.github.com/repos/marl/pysox/issues/164"}, "comments": {"href": "https://api.github.com/repos/marl/pysox/issues/164/comments"}, "review_comments": {"href": "https://api.github.com/repos/marl/pysox/pulls/164/comments"}, "review_comment": {"href": "https://api.github.com/repos/marl/pysox/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/marl/pysox/pulls/164/commits"}, "statuses": {"href": "https://api.github.com/repos/marl/pysox/statuses/db27de1a65fdd5bcf00edd2268489e57834ae569"}}, "author_association": "MEMBER", "auto_merge": null, "active_lock_reason": null, "resolved_issues": []}
