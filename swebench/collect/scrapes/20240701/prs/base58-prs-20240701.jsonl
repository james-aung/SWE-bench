{"url": "https://api.github.com/repos/keis/base58/pulls/73", "id": 1158901013, "node_id": "PR_kwDOAJfl3M5FE20V", "html_url": "https://github.com/keis/base58/pull/73", "diff_url": "https://github.com/keis/base58/pull/73.diff", "patch_url": "https://github.com/keis/base58/pull/73.patch", "issue_url": "https://api.github.com/repos/keis/base58/issues/73", "number": 73, "state": "closed", "locked": false, "title": "Use int.to_bytes to speed up decoding", "user": {"login": "keis", "id": 125062, "node_id": "MDQ6VXNlcjEyNTA2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/125062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keis", "html_url": "https://github.com/keis", "followers_url": "https://api.github.com/users/keis/followers", "following_url": "https://api.github.com/users/keis/following{/other_user}", "gists_url": "https://api.github.com/users/keis/gists{/gist_id}", "starred_url": "https://api.github.com/users/keis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keis/subscriptions", "organizations_url": "https://api.github.com/users/keis/orgs", "repos_url": "https://api.github.com/users/keis/repos", "events_url": "https://api.github.com/users/keis/events{/privacy}", "received_events_url": "https://api.github.com/users/keis/received_events", "type": "User", "site_admin": false}, "body": "Lifting part of #70 \r\n\r\nDid benchmarks with `pytest -k 'test_decode_random' --benchmark-max-time=10 --benchmark-autosave` reruns show quite some difference in runs on longer data but this change consistently beats the old method.\r\n\r\n0006 is from current master, 0009 is with this patch\r\n\r\n```\r\nName (time in us)                                  Min                   Max                  Mean              StdDev                Median                 IQR             Outliers           OPS            Rounds  Iterations\r\n---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\ntest_decode_random[8] (0009_09bbb05)            1.9319 (1.0)         43.0930 (1.0)          2.6994 (1.0)        1.6113 (1.0)          2.1090 (1.0)        0.2910 (3.73)   27233;32164  370,454.0210 (1.0)      239178           1\r\ntest_decode_random[8] (0006_578b01f)            3.2480 (1.68)        84.7890 (1.97)         4.0059 (1.48)       1.9595 (1.22)         3.4380 (1.63)       0.2950 (3.78)   17721;44521  249,633.8634 (0.67)     260437           1\r\ntest_decode_random[32] (0009_09bbb05)           4.7771 (2.47)       538.9240 (12.51)        5.5988 (2.07)       2.6364 (1.64)         4.9809 (2.36)       0.0780 (1.0)    55328;141858  178,609.6576 (0.48)     934847           1\r\ntest_decode_random[32] (0006_578b01f)           9.6110 (4.97)       534.5290 (12.40)       11.1709 (4.14)       4.0129 (2.49)         9.8980 (4.69)       0.3449 (4.42)   20132;69952   89,518.2111 (0.24)     339237           1\r\ntest_decode_random[256] (0009_09bbb05)         44.2620 (22.91)      563.8010 (13.08)       53.0820 (19.66)     17.8012 (11.05)       45.3601 (21.51)      7.5930 (97.35)    7471;9157   18,838.7910 (0.05)      85183           1\r\ntest_decode_random[256] (0006_578b01f)        153.7560 (79.59)      680.9130 (15.80)      190.0000 (70.39)     45.1139 (28.00)      176.1965 (83.55)     47.6551 (610.98)   4521;2708    5,263.1585 (0.01)      39546           1\r\ntest_decode_random[1024] (0009_09bbb05)       387.7309 (200.70)   1,133.3140 (26.30)      446.1720 (165.29)    77.0297 (47.81)      411.7080 (195.22)    49.8960 (639.71)   2529;2453    2,241.2879 (0.01)      20401           1\r\ntest_decode_random[1024] (0006_578b01f)     1,822.5090 (943.37)   4,125.0370 (95.72)    2,737.7037 (>1000.0)  403.5820 (250.47)   2,687.3620 (>1000.0)  614.8642 (>1000.0)     1391;6      365.2696 (0.00)       4109           1\r\n```", "created_at": "2022-12-11T10:23:21Z", "updated_at": "2022-12-11T10:27:03Z", "closed_at": "2022-12-11T10:26:58Z", "merged_at": "2022-12-11T10:26:58Z", "merge_commit_sha": "2fae7065e3446e69e5d748c767011f05eee8400e", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/keis/base58/pulls/73/commits", "review_comments_url": "https://api.github.com/repos/keis/base58/pulls/73/comments", "review_comment_url": "https://api.github.com/repos/keis/base58/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/keis/base58/issues/73/comments", "statuses_url": "https://api.github.com/repos/keis/base58/statuses/09bbb059b9994a1172ef364c85a5d169ac1d54b6", "head": {"label": "keis:int-to-bytes", "ref": "int-to-bytes", "sha": "09bbb059b9994a1172ef364c85a5d169ac1d54b6", "user": {"login": "keis", "id": 125062, "node_id": "MDQ6VXNlcjEyNTA2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/125062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keis", "html_url": "https://github.com/keis", "followers_url": "https://api.github.com/users/keis/followers", "following_url": "https://api.github.com/users/keis/following{/other_user}", "gists_url": "https://api.github.com/users/keis/gists{/gist_id}", "starred_url": "https://api.github.com/users/keis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keis/subscriptions", "organizations_url": "https://api.github.com/users/keis/orgs", "repos_url": "https://api.github.com/users/keis/repos", "events_url": "https://api.github.com/users/keis/events{/privacy}", "received_events_url": "https://api.github.com/users/keis/received_events", "type": "User", "site_admin": false}, "repo": {"id": 9954780, "node_id": "MDEwOlJlcG9zaXRvcnk5OTU0Nzgw", "name": "base58", "full_name": "keis/base58", "private": false, "owner": {"login": "keis", "id": 125062, "node_id": "MDQ6VXNlcjEyNTA2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/125062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keis", "html_url": "https://github.com/keis", "followers_url": "https://api.github.com/users/keis/followers", "following_url": "https://api.github.com/users/keis/following{/other_user}", "gists_url": "https://api.github.com/users/keis/gists{/gist_id}", "starred_url": "https://api.github.com/users/keis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keis/subscriptions", "organizations_url": "https://api.github.com/users/keis/orgs", "repos_url": "https://api.github.com/users/keis/repos", "events_url": "https://api.github.com/users/keis/events{/privacy}", "received_events_url": "https://api.github.com/users/keis/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/keis/base58", "description": "Base58 and Base58Check implementation compatible with what is used by the bitcoin network.", "fork": false, "url": "https://api.github.com/repos/keis/base58", "forks_url": "https://api.github.com/repos/keis/base58/forks", "keys_url": "https://api.github.com/repos/keis/base58/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/keis/base58/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/keis/base58/teams", "hooks_url": "https://api.github.com/repos/keis/base58/hooks", "issue_events_url": "https://api.github.com/repos/keis/base58/issues/events{/number}", "events_url": "https://api.github.com/repos/keis/base58/events", "assignees_url": "https://api.github.com/repos/keis/base58/assignees{/user}", "branches_url": "https://api.github.com/repos/keis/base58/branches{/branch}", "tags_url": "https://api.github.com/repos/keis/base58/tags", "blobs_url": "https://api.github.com/repos/keis/base58/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/keis/base58/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/keis/base58/git/refs{/sha}", "trees_url": "https://api.github.com/repos/keis/base58/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/keis/base58/statuses/{sha}", "languages_url": "https://api.github.com/repos/keis/base58/languages", "stargazers_url": "https://api.github.com/repos/keis/base58/stargazers", "contributors_url": "https://api.github.com/repos/keis/base58/contributors", "subscribers_url": "https://api.github.com/repos/keis/base58/subscribers", "subscription_url": "https://api.github.com/repos/keis/base58/subscription", "commits_url": "https://api.github.com/repos/keis/base58/commits{/sha}", "git_commits_url": "https://api.github.com/repos/keis/base58/git/commits{/sha}", "comments_url": "https://api.github.com/repos/keis/base58/comments{/number}", "issue_comment_url": "https://api.github.com/repos/keis/base58/issues/comments{/number}", "contents_url": "https://api.github.com/repos/keis/base58/contents/{+path}", "compare_url": "https://api.github.com/repos/keis/base58/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/keis/base58/merges", "archive_url": "https://api.github.com/repos/keis/base58/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/keis/base58/downloads", "issues_url": "https://api.github.com/repos/keis/base58/issues{/number}", "pulls_url": "https://api.github.com/repos/keis/base58/pulls{/number}", "milestones_url": "https://api.github.com/repos/keis/base58/milestones{/number}", "notifications_url": "https://api.github.com/repos/keis/base58/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/keis/base58/labels{/name}", "releases_url": "https://api.github.com/repos/keis/base58/releases{/id}", "deployments_url": "https://api.github.com/repos/keis/base58/deployments", "created_at": "2013-05-09T07:49:20Z", "updated_at": "2024-07-07T21:05:43Z", "pushed_at": "2022-12-11T10:27:03Z", "git_url": "git://github.com/keis/base58.git", "ssh_url": "git@github.com:keis/base58.git", "clone_url": "https://github.com/keis/base58.git", "svn_url": "https://github.com/keis/base58", "homepage": "", "size": 94, "stargazers_count": 180, "watchers_count": 180, "language": "Python", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 59, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 2, "license": {"key": "mit", "name": "MIT License", "spdx_id": "MIT", "url": "https://api.github.com/licenses/mit", "node_id": "MDc6TGljZW5zZTEz"}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["base58", "bitcoin", "encoding", "python"], "visibility": "public", "forks": 59, "open_issues": 2, "watchers": 180, "default_branch": "master"}}, "base": {"label": "keis:master", "ref": "master", "sha": "578b01fa6991a4a09d2a6298686607b4f05acd15", "user": {"login": "keis", "id": 125062, "node_id": "MDQ6VXNlcjEyNTA2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/125062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keis", "html_url": "https://github.com/keis", "followers_url": "https://api.github.com/users/keis/followers", "following_url": "https://api.github.com/users/keis/following{/other_user}", "gists_url": "https://api.github.com/users/keis/gists{/gist_id}", "starred_url": "https://api.github.com/users/keis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keis/subscriptions", "organizations_url": "https://api.github.com/users/keis/orgs", "repos_url": "https://api.github.com/users/keis/repos", "events_url": "https://api.github.com/users/keis/events{/privacy}", "received_events_url": "https://api.github.com/users/keis/received_events", "type": "User", "site_admin": false}, "repo": {"id": 9954780, "node_id": "MDEwOlJlcG9zaXRvcnk5OTU0Nzgw", "name": "base58", "full_name": "keis/base58", "private": false, "owner": {"login": "keis", "id": 125062, "node_id": "MDQ6VXNlcjEyNTA2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/125062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keis", "html_url": "https://github.com/keis", "followers_url": "https://api.github.com/users/keis/followers", "following_url": "https://api.github.com/users/keis/following{/other_user}", "gists_url": "https://api.github.com/users/keis/gists{/gist_id}", "starred_url": "https://api.github.com/users/keis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keis/subscriptions", "organizations_url": "https://api.github.com/users/keis/orgs", "repos_url": "https://api.github.com/users/keis/repos", "events_url": "https://api.github.com/users/keis/events{/privacy}", "received_events_url": "https://api.github.com/users/keis/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/keis/base58", "description": "Base58 and Base58Check implementation compatible with what is used by the bitcoin network.", "fork": false, "url": "https://api.github.com/repos/keis/base58", "forks_url": "https://api.github.com/repos/keis/base58/forks", "keys_url": "https://api.github.com/repos/keis/base58/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/keis/base58/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/keis/base58/teams", "hooks_url": "https://api.github.com/repos/keis/base58/hooks", "issue_events_url": "https://api.github.com/repos/keis/base58/issues/events{/number}", "events_url": "https://api.github.com/repos/keis/base58/events", "assignees_url": "https://api.github.com/repos/keis/base58/assignees{/user}", "branches_url": "https://api.github.com/repos/keis/base58/branches{/branch}", "tags_url": "https://api.github.com/repos/keis/base58/tags", "blobs_url": "https://api.github.com/repos/keis/base58/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/keis/base58/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/keis/base58/git/refs{/sha}", "trees_url": "https://api.github.com/repos/keis/base58/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/keis/base58/statuses/{sha}", "languages_url": "https://api.github.com/repos/keis/base58/languages", "stargazers_url": "https://api.github.com/repos/keis/base58/stargazers", "contributors_url": "https://api.github.com/repos/keis/base58/contributors", "subscribers_url": "https://api.github.com/repos/keis/base58/subscribers", "subscription_url": "https://api.github.com/repos/keis/base58/subscription", "commits_url": "https://api.github.com/repos/keis/base58/commits{/sha}", "git_commits_url": "https://api.github.com/repos/keis/base58/git/commits{/sha}", "comments_url": "https://api.github.com/repos/keis/base58/comments{/number}", "issue_comment_url": "https://api.github.com/repos/keis/base58/issues/comments{/number}", "contents_url": "https://api.github.com/repos/keis/base58/contents/{+path}", "compare_url": "https://api.github.com/repos/keis/base58/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/keis/base58/merges", "archive_url": "https://api.github.com/repos/keis/base58/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/keis/base58/downloads", "issues_url": "https://api.github.com/repos/keis/base58/issues{/number}", "pulls_url": "https://api.github.com/repos/keis/base58/pulls{/number}", "milestones_url": "https://api.github.com/repos/keis/base58/milestones{/number}", "notifications_url": "https://api.github.com/repos/keis/base58/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/keis/base58/labels{/name}", "releases_url": "https://api.github.com/repos/keis/base58/releases{/id}", "deployments_url": "https://api.github.com/repos/keis/base58/deployments", "created_at": "2013-05-09T07:49:20Z", "updated_at": "2024-07-07T21:05:43Z", "pushed_at": "2022-12-11T10:27:03Z", "git_url": "git://github.com/keis/base58.git", "ssh_url": "git@github.com:keis/base58.git", "clone_url": "https://github.com/keis/base58.git", "svn_url": "https://github.com/keis/base58", "homepage": "", "size": 94, "stargazers_count": 180, "watchers_count": 180, "language": "Python", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 59, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 2, "license": {"key": "mit", "name": "MIT License", "spdx_id": "MIT", "url": "https://api.github.com/licenses/mit", "node_id": "MDc6TGljZW5zZTEz"}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": ["base58", "bitcoin", "encoding", "python"], "visibility": "public", "forks": 59, "open_issues": 2, "watchers": 180, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/keis/base58/pulls/73"}, "html": {"href": "https://github.com/keis/base58/pull/73"}, "issue": {"href": "https://api.github.com/repos/keis/base58/issues/73"}, "comments": {"href": "https://api.github.com/repos/keis/base58/issues/73/comments"}, "review_comments": {"href": "https://api.github.com/repos/keis/base58/pulls/73/comments"}, "review_comment": {"href": "https://api.github.com/repos/keis/base58/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/keis/base58/pulls/73/commits"}, "statuses": {"href": "https://api.github.com/repos/keis/base58/statuses/09bbb059b9994a1172ef364c85a5d169ac1d54b6"}}, "author_association": "OWNER", "auto_merge": null, "active_lock_reason": null, "resolved_issues": []}
