{"url": "https://api.github.com/repos/sarugaku/shellingham/pulls/85", "id": 1801557079, "node_id": "PR_kwDOCDCir85rYZRX", "html_url": "https://github.com/sarugaku/shellingham/pull/85", "diff_url": "https://github.com/sarugaku/shellingham/pull/85.diff", "patch_url": "https://github.com/sarugaku/shellingham/pull/85.patch", "issue_url": "https://api.github.com/repos/sarugaku/shellingham/issues/85", "number": 85, "state": "closed", "locked": false, "title": "Add trusted_publishing via Pypi", "user": {"login": "michaelfeil", "id": 63565275, "node_id": "MDQ6VXNlcjYzNTY1Mjc1", "avatar_url": "https://avatars.githubusercontent.com/u/63565275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelfeil", "html_url": "https://github.com/michaelfeil", "followers_url": "https://api.github.com/users/michaelfeil/followers", "following_url": "https://api.github.com/users/michaelfeil/following{/other_user}", "gists_url": "https://api.github.com/users/michaelfeil/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelfeil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelfeil/subscriptions", "organizations_url": "https://api.github.com/users/michaelfeil/orgs", "repos_url": "https://api.github.com/users/michaelfeil/repos", "events_url": "https://api.github.com/users/michaelfeil/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelfeil/received_events", "type": "User", "site_admin": false}, "body": "Benefit: If someone submits a PR, they cannot steal the `PYPI_TOKEN`\r\nCloses #84 \r\n\r\nAdapted from:\r\nhttps://github.com/pypa/gh-action-pypi-publish?tab=readme-ov-file#trusted-publishing\r\n\r\nThere are some steps that the admin of this repo need to do. Both are UI actions.\r\n## TODO:\r\n1.  Pypi.org Follow pypi guide https://docs.pypi.org/trusted-publishers/adding-a-publisher/\r\n\r\nThis should roughly do it\r\n```\r\n- owner \"sarugaku\"\r\n- repository name \"shellingham\"\r\n- workflow \"publish.yml\"\r\n- environment name \"pypi\" # The name of environment in the yaml needs to match the name of the github UI and what you put on pypi\r\n```\r\n\r\n2. Github.com Create a environment named \"pypi\" in github UI under environments.\r\nBelow a screenshot of project github.com/michaelfeil/infinity and added e.g. me as Required Reviewer (e.g. if someone else pushes a tag to my repo, this stalls the github CI, and I get a notification to approve the publish.yml workflow)\r\n![image](https://github.com/sarugaku/shellingham/assets/63565275/5f1155f5-ba81-462a-a54b-6160daf87a7b)\r\n", "created_at": "2024-04-02T02:51:26Z", "updated_at": "2024-04-09T08:35:53Z", "closed_at": "2024-04-09T08:34:19Z", "merged_at": "2024-04-09T08:34:19Z", "merge_commit_sha": "3e7ca6055a8a54930cb6e0fb62605cbb17dd0585", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/sarugaku/shellingham/pulls/85/commits", "review_comments_url": "https://api.github.com/repos/sarugaku/shellingham/pulls/85/comments", "review_comment_url": "https://api.github.com/repos/sarugaku/shellingham/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/sarugaku/shellingham/issues/85/comments", "statuses_url": "https://api.github.com/repos/sarugaku/shellingham/statuses/806f257be314c45829dc479d5a5bad29a1655cb7", "head": {"label": "michaelfeil:patch-1", "ref": "patch-1", "sha": "806f257be314c45829dc479d5a5bad29a1655cb7", "user": {"login": "michaelfeil", "id": 63565275, "node_id": "MDQ6VXNlcjYzNTY1Mjc1", "avatar_url": "https://avatars.githubusercontent.com/u/63565275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelfeil", "html_url": "https://github.com/michaelfeil", "followers_url": "https://api.github.com/users/michaelfeil/followers", "following_url": "https://api.github.com/users/michaelfeil/following{/other_user}", "gists_url": "https://api.github.com/users/michaelfeil/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelfeil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelfeil/subscriptions", "organizations_url": "https://api.github.com/users/michaelfeil/orgs", "repos_url": "https://api.github.com/users/michaelfeil/repos", "events_url": "https://api.github.com/users/michaelfeil/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelfeil/received_events", "type": "User", "site_admin": false}, "repo": {"id": 780713082, "node_id": "R_kgDOLoi8eg", "name": "shellingham", "full_name": "michaelfeil/shellingham", "private": false, "owner": {"login": "michaelfeil", "id": 63565275, "node_id": "MDQ6VXNlcjYzNTY1Mjc1", "avatar_url": "https://avatars.githubusercontent.com/u/63565275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelfeil", "html_url": "https://github.com/michaelfeil", "followers_url": "https://api.github.com/users/michaelfeil/followers", "following_url": "https://api.github.com/users/michaelfeil/following{/other_user}", "gists_url": "https://api.github.com/users/michaelfeil/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelfeil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelfeil/subscriptions", "organizations_url": "https://api.github.com/users/michaelfeil/orgs", "repos_url": "https://api.github.com/users/michaelfeil/repos", "events_url": "https://api.github.com/users/michaelfeil/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelfeil/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/michaelfeil/shellingham", "description": "Tool to Detect Surrounding Shell", "fork": true, "url": "https://api.github.com/repos/michaelfeil/shellingham", "forks_url": "https://api.github.com/repos/michaelfeil/shellingham/forks", "keys_url": "https://api.github.com/repos/michaelfeil/shellingham/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/michaelfeil/shellingham/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/michaelfeil/shellingham/teams", "hooks_url": "https://api.github.com/repos/michaelfeil/shellingham/hooks", "issue_events_url": "https://api.github.com/repos/michaelfeil/shellingham/issues/events{/number}", "events_url": "https://api.github.com/repos/michaelfeil/shellingham/events", "assignees_url": "https://api.github.com/repos/michaelfeil/shellingham/assignees{/user}", "branches_url": "https://api.github.com/repos/michaelfeil/shellingham/branches{/branch}", "tags_url": "https://api.github.com/repos/michaelfeil/shellingham/tags", "blobs_url": "https://api.github.com/repos/michaelfeil/shellingham/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/michaelfeil/shellingham/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/michaelfeil/shellingham/git/refs{/sha}", "trees_url": "https://api.github.com/repos/michaelfeil/shellingham/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/michaelfeil/shellingham/statuses/{sha}", "languages_url": "https://api.github.com/repos/michaelfeil/shellingham/languages", "stargazers_url": "https://api.github.com/repos/michaelfeil/shellingham/stargazers", "contributors_url": "https://api.github.com/repos/michaelfeil/shellingham/contributors", "subscribers_url": "https://api.github.com/repos/michaelfeil/shellingham/subscribers", "subscription_url": "https://api.github.com/repos/michaelfeil/shellingham/subscription", "commits_url": "https://api.github.com/repos/michaelfeil/shellingham/commits{/sha}", "git_commits_url": "https://api.github.com/repos/michaelfeil/shellingham/git/commits{/sha}", "comments_url": "https://api.github.com/repos/michaelfeil/shellingham/comments{/number}", "issue_comment_url": "https://api.github.com/repos/michaelfeil/shellingham/issues/comments{/number}", "contents_url": "https://api.github.com/repos/michaelfeil/shellingham/contents/{+path}", "compare_url": "https://api.github.com/repos/michaelfeil/shellingham/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/michaelfeil/shellingham/merges", "archive_url": "https://api.github.com/repos/michaelfeil/shellingham/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/michaelfeil/shellingham/downloads", "issues_url": "https://api.github.com/repos/michaelfeil/shellingham/issues{/number}", "pulls_url": "https://api.github.com/repos/michaelfeil/shellingham/pulls{/number}", "milestones_url": "https://api.github.com/repos/michaelfeil/shellingham/milestones{/number}", "notifications_url": "https://api.github.com/repos/michaelfeil/shellingham/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/michaelfeil/shellingham/labels{/name}", "releases_url": "https://api.github.com/repos/michaelfeil/shellingham/releases{/id}", "deployments_url": "https://api.github.com/repos/michaelfeil/shellingham/deployments", "created_at": "2024-04-02T02:41:57Z", "updated_at": "2024-04-02T02:41:57Z", "pushed_at": "2024-04-09T08:34:02Z", "git_url": "git://github.com/michaelfeil/shellingham.git", "ssh_url": "git@github.com:michaelfeil/shellingham.git", "clone_url": "https://github.com/michaelfeil/shellingham.git", "svn_url": "https://github.com/michaelfeil/shellingham", "homepage": null, "size": 184, "stargazers_count": 0, "watchers_count": 0, "language": null, "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "isc", "name": "ISC License", "spdx_id": "ISC", "url": "https://api.github.com/licenses/isc", "node_id": "MDc6TGljZW5zZTEw"}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "sarugaku:master", "ref": "master", "sha": "cba059e7f29f731c2fdf9c8c3ea7921182b7d6c3", "user": {"login": "sarugaku", "id": 39783362, "node_id": "MDEyOk9yZ2FuaXphdGlvbjM5NzgzMzYy", "avatar_url": "https://avatars.githubusercontent.com/u/39783362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarugaku", "html_url": "https://github.com/sarugaku", "followers_url": "https://api.github.com/users/sarugaku/followers", "following_url": "https://api.github.com/users/sarugaku/following{/other_user}", "gists_url": "https://api.github.com/users/sarugaku/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarugaku/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarugaku/subscriptions", "organizations_url": "https://api.github.com/users/sarugaku/orgs", "repos_url": "https://api.github.com/users/sarugaku/repos", "events_url": "https://api.github.com/users/sarugaku/events{/privacy}", "received_events_url": "https://api.github.com/users/sarugaku/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 137405103, "node_id": "MDEwOlJlcG9zaXRvcnkxMzc0MDUxMDM=", "name": "shellingham", "full_name": "sarugaku/shellingham", "private": false, "owner": {"login": "sarugaku", "id": 39783362, "node_id": "MDEyOk9yZ2FuaXphdGlvbjM5NzgzMzYy", "avatar_url": "https://avatars.githubusercontent.com/u/39783362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarugaku", "html_url": "https://github.com/sarugaku", "followers_url": "https://api.github.com/users/sarugaku/followers", "following_url": "https://api.github.com/users/sarugaku/following{/other_user}", "gists_url": "https://api.github.com/users/sarugaku/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarugaku/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarugaku/subscriptions", "organizations_url": "https://api.github.com/users/sarugaku/orgs", "repos_url": "https://api.github.com/users/sarugaku/repos", "events_url": "https://api.github.com/users/sarugaku/events{/privacy}", "received_events_url": "https://api.github.com/users/sarugaku/received_events", "type": "Organization", "site_admin": false}, "html_url": "https://github.com/sarugaku/shellingham", "description": "Tool to Detect Surrounding Shell", "fork": false, "url": "https://api.github.com/repos/sarugaku/shellingham", "forks_url": "https://api.github.com/repos/sarugaku/shellingham/forks", "keys_url": "https://api.github.com/repos/sarugaku/shellingham/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/sarugaku/shellingham/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/sarugaku/shellingham/teams", "hooks_url": "https://api.github.com/repos/sarugaku/shellingham/hooks", "issue_events_url": "https://api.github.com/repos/sarugaku/shellingham/issues/events{/number}", "events_url": "https://api.github.com/repos/sarugaku/shellingham/events", "assignees_url": "https://api.github.com/repos/sarugaku/shellingham/assignees{/user}", "branches_url": "https://api.github.com/repos/sarugaku/shellingham/branches{/branch}", "tags_url": "https://api.github.com/repos/sarugaku/shellingham/tags", "blobs_url": "https://api.github.com/repos/sarugaku/shellingham/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/sarugaku/shellingham/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/sarugaku/shellingham/git/refs{/sha}", "trees_url": "https://api.github.com/repos/sarugaku/shellingham/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/sarugaku/shellingham/statuses/{sha}", "languages_url": "https://api.github.com/repos/sarugaku/shellingham/languages", "stargazers_url": "https://api.github.com/repos/sarugaku/shellingham/stargazers", "contributors_url": "https://api.github.com/repos/sarugaku/shellingham/contributors", "subscribers_url": "https://api.github.com/repos/sarugaku/shellingham/subscribers", "subscription_url": "https://api.github.com/repos/sarugaku/shellingham/subscription", "commits_url": "https://api.github.com/repos/sarugaku/shellingham/commits{/sha}", "git_commits_url": "https://api.github.com/repos/sarugaku/shellingham/git/commits{/sha}", "comments_url": "https://api.github.com/repos/sarugaku/shellingham/comments{/number}", "issue_comment_url": "https://api.github.com/repos/sarugaku/shellingham/issues/comments{/number}", "contents_url": "https://api.github.com/repos/sarugaku/shellingham/contents/{+path}", "compare_url": "https://api.github.com/repos/sarugaku/shellingham/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/sarugaku/shellingham/merges", "archive_url": "https://api.github.com/repos/sarugaku/shellingham/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/sarugaku/shellingham/downloads", "issues_url": "https://api.github.com/repos/sarugaku/shellingham/issues{/number}", "pulls_url": "https://api.github.com/repos/sarugaku/shellingham/pulls{/number}", "milestones_url": "https://api.github.com/repos/sarugaku/shellingham/milestones{/number}", "notifications_url": "https://api.github.com/repos/sarugaku/shellingham/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/sarugaku/shellingham/labels{/name}", "releases_url": "https://api.github.com/repos/sarugaku/shellingham/releases{/id}", "deployments_url": "https://api.github.com/repos/sarugaku/shellingham/deployments", "created_at": "2018-06-14T20:18:56Z", "updated_at": "2024-08-02T13:57:37Z", "pushed_at": "2024-08-16T13:32:16Z", "git_url": "git://github.com/sarugaku/shellingham.git", "ssh_url": "git@github.com:sarugaku/shellingham.git", "clone_url": "https://github.com/sarugaku/shellingham.git", "svn_url": "https://github.com/sarugaku/shellingham", "homepage": null, "size": 185, "stargazers_count": 221, "watchers_count": 221, "language": "Python", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 32, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 11, "license": {"key": "isc", "name": "ISC License", "spdx_id": "ISC", "url": "https://api.github.com/licenses/isc", "node_id": "MDc6TGljZW5zZTEw"}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 32, "open_issues": 11, "watchers": 221, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/sarugaku/shellingham/pulls/85"}, "html": {"href": "https://github.com/sarugaku/shellingham/pull/85"}, "issue": {"href": "https://api.github.com/repos/sarugaku/shellingham/issues/85"}, "comments": {"href": "https://api.github.com/repos/sarugaku/shellingham/issues/85/comments"}, "review_comments": {"href": "https://api.github.com/repos/sarugaku/shellingham/pulls/85/comments"}, "review_comment": {"href": "https://api.github.com/repos/sarugaku/shellingham/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/sarugaku/shellingham/pulls/85/commits"}, "statuses": {"href": "https://api.github.com/repos/sarugaku/shellingham/statuses/806f257be314c45829dc479d5a5bad29a1655cb7"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "resolved_issues": ["84"]}
