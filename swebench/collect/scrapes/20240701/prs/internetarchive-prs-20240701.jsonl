{"url": "https://api.github.com/repos/jjjake/internetarchive/pulls/650", "id": 1888792746, "node_id": "PR_kwDOAFLcoc5wlLCq", "html_url": "https://github.com/jjjake/internetarchive/pull/650", "diff_url": "https://github.com/jjjake/internetarchive/pull/650.diff", "patch_url": "https://github.com/jjjake/internetarchive/pull/650.patch", "issue_url": "https://api.github.com/repos/jjjake/internetarchive/issues/650", "number": 650, "state": "closed", "locked": false, "title": "Skip early when downloading existing file", "user": {"login": "ChlodAlejandro", "id": 12129227, "node_id": "MDQ6VXNlcjEyMTI5MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/12129227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChlodAlejandro", "html_url": "https://github.com/ChlodAlejandro", "followers_url": "https://api.github.com/users/ChlodAlejandro/followers", "following_url": "https://api.github.com/users/ChlodAlejandro/following{/other_user}", "gists_url": "https://api.github.com/users/ChlodAlejandro/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChlodAlejandro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChlodAlejandro/subscriptions", "organizations_url": "https://api.github.com/users/ChlodAlejandro/orgs", "repos_url": "https://api.github.com/users/ChlodAlejandro/repos", "events_url": "https://api.github.com/users/ChlodAlejandro/events{/privacy}", "received_events_url": "https://api.github.com/users/ChlodAlejandro/received_events", "type": "User", "site_admin": false}, "body": "#614 moved some skip checks to until after response headers have been received, which drastically slows down the download process if the file already exists or the file has an equal checksum.\r\n\r\nSince whether existing files (`--ignore-existing`) or matching checksums (`--checksum`) are to be skipped, file name, and checksum are all already known prior to needing information about the file through the `Last-Modified` header, these checks should remain at the start to avoid having to make a request which would eventually be discarded anyway. This speeds up `ia download` by skipping the (relatively long-running) blocking HTTP request and also stops the script from making numerous wasted requests to the Internet Archive, especially for runs which cover hundreds of files.", "created_at": "2024-05-26T07:55:52Z", "updated_at": "2024-05-28T20:20:03Z", "closed_at": "2024-05-28T20:20:03Z", "merged_at": "2024-05-28T20:20:03Z", "merge_commit_sha": "c97ec24dfe007be3650ee7e1a854cb97d2919741", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "draft": false, "commits_url": "https://api.github.com/repos/jjjake/internetarchive/pulls/650/commits", "review_comments_url": "https://api.github.com/repos/jjjake/internetarchive/pulls/650/comments", "review_comment_url": "https://api.github.com/repos/jjjake/internetarchive/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/jjjake/internetarchive/issues/650/comments", "statuses_url": "https://api.github.com/repos/jjjake/internetarchive/statuses/d31e5c3418b284c5fcc3ef84ac62a9833bd8e3a6", "head": {"label": "ChlodAlejandro:master", "ref": "master", "sha": "d31e5c3418b284c5fcc3ef84ac62a9833bd8e3a6", "user": {"login": "ChlodAlejandro", "id": 12129227, "node_id": "MDQ6VXNlcjEyMTI5MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/12129227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChlodAlejandro", "html_url": "https://github.com/ChlodAlejandro", "followers_url": "https://api.github.com/users/ChlodAlejandro/followers", "following_url": "https://api.github.com/users/ChlodAlejandro/following{/other_user}", "gists_url": "https://api.github.com/users/ChlodAlejandro/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChlodAlejandro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChlodAlejandro/subscriptions", "organizations_url": "https://api.github.com/users/ChlodAlejandro/orgs", "repos_url": "https://api.github.com/users/ChlodAlejandro/repos", "events_url": "https://api.github.com/users/ChlodAlejandro/events{/privacy}", "received_events_url": "https://api.github.com/users/ChlodAlejandro/received_events", "type": "User", "site_admin": false}, "repo": {"id": 806037747, "node_id": "R_kgDOMAso8w", "name": "internetarchive", "full_name": "ChlodAlejandro/internetarchive", "private": false, "owner": {"login": "ChlodAlejandro", "id": 12129227, "node_id": "MDQ6VXNlcjEyMTI5MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/12129227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChlodAlejandro", "html_url": "https://github.com/ChlodAlejandro", "followers_url": "https://api.github.com/users/ChlodAlejandro/followers", "following_url": "https://api.github.com/users/ChlodAlejandro/following{/other_user}", "gists_url": "https://api.github.com/users/ChlodAlejandro/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChlodAlejandro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChlodAlejandro/subscriptions", "organizations_url": "https://api.github.com/users/ChlodAlejandro/orgs", "repos_url": "https://api.github.com/users/ChlodAlejandro/repos", "events_url": "https://api.github.com/users/ChlodAlejandro/events{/privacy}", "received_events_url": "https://api.github.com/users/ChlodAlejandro/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/ChlodAlejandro/internetarchive", "description": "A Python and Command-Line Interface to Archive.org", "fork": true, "url": "https://api.github.com/repos/ChlodAlejandro/internetarchive", "forks_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/forks", "keys_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/teams", "hooks_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/hooks", "issue_events_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/issues/events{/number}", "events_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/events", "assignees_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/assignees{/user}", "branches_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/branches{/branch}", "tags_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/tags", "blobs_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/git/refs{/sha}", "trees_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/statuses/{sha}", "languages_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/languages", "stargazers_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/stargazers", "contributors_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/contributors", "subscribers_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/subscribers", "subscription_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/subscription", "commits_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/commits{/sha}", "git_commits_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/git/commits{/sha}", "comments_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/comments{/number}", "issue_comment_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/issues/comments{/number}", "contents_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/contents/{+path}", "compare_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/merges", "archive_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/downloads", "issues_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/issues{/number}", "pulls_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/pulls{/number}", "milestones_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/milestones{/number}", "notifications_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/labels{/name}", "releases_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/releases{/id}", "deployments_url": "https://api.github.com/repos/ChlodAlejandro/internetarchive/deployments", "created_at": "2024-05-26T07:37:48Z", "updated_at": "2024-05-26T07:48:14Z", "pushed_at": "2024-05-26T07:48:11Z", "git_url": "git://github.com/ChlodAlejandro/internetarchive.git", "ssh_url": "git@github.com:ChlodAlejandro/internetarchive.git", "clone_url": "https://github.com/ChlodAlejandro/internetarchive.git", "svn_url": "https://github.com/ChlodAlejandro/internetarchive", "homepage": "", "size": 2306, "stargazers_count": 0, "watchers_count": 0, "language": "Python", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 0, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 0, "license": {"key": "agpl-3.0", "name": "GNU Affero General Public License v3.0", "spdx_id": "AGPL-3.0", "url": "https://api.github.com/licenses/agpl-3.0", "node_id": "MDc6TGljZW5zZTE="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "jjjake:master", "ref": "master", "sha": "4efd45f93b76db4b05d7a3cee058595206630dc6", "user": {"login": "jjjake", "id": 924153, "node_id": "MDQ6VXNlcjkyNDE1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/924153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jjjake", "html_url": "https://github.com/jjjake", "followers_url": "https://api.github.com/users/jjjake/followers", "following_url": "https://api.github.com/users/jjjake/following{/other_user}", "gists_url": "https://api.github.com/users/jjjake/gists{/gist_id}", "starred_url": "https://api.github.com/users/jjjake/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jjjake/subscriptions", "organizations_url": "https://api.github.com/users/jjjake/orgs", "repos_url": "https://api.github.com/users/jjjake/repos", "events_url": "https://api.github.com/users/jjjake/events{/privacy}", "received_events_url": "https://api.github.com/users/jjjake/received_events", "type": "User", "site_admin": false}, "repo": {"id": 5430433, "node_id": "MDEwOlJlcG9zaXRvcnk1NDMwNDMz", "name": "internetarchive", "full_name": "jjjake/internetarchive", "private": false, "owner": {"login": "jjjake", "id": 924153, "node_id": "MDQ6VXNlcjkyNDE1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/924153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jjjake", "html_url": "https://github.com/jjjake", "followers_url": "https://api.github.com/users/jjjake/followers", "following_url": "https://api.github.com/users/jjjake/following{/other_user}", "gists_url": "https://api.github.com/users/jjjake/gists{/gist_id}", "starred_url": "https://api.github.com/users/jjjake/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jjjake/subscriptions", "organizations_url": "https://api.github.com/users/jjjake/orgs", "repos_url": "https://api.github.com/users/jjjake/repos", "events_url": "https://api.github.com/users/jjjake/events{/privacy}", "received_events_url": "https://api.github.com/users/jjjake/received_events", "type": "User", "site_admin": false}, "html_url": "https://github.com/jjjake/internetarchive", "description": "A Python and Command-Line Interface to Archive.org", "fork": false, "url": "https://api.github.com/repos/jjjake/internetarchive", "forks_url": "https://api.github.com/repos/jjjake/internetarchive/forks", "keys_url": "https://api.github.com/repos/jjjake/internetarchive/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/jjjake/internetarchive/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/jjjake/internetarchive/teams", "hooks_url": "https://api.github.com/repos/jjjake/internetarchive/hooks", "issue_events_url": "https://api.github.com/repos/jjjake/internetarchive/issues/events{/number}", "events_url": "https://api.github.com/repos/jjjake/internetarchive/events", "assignees_url": "https://api.github.com/repos/jjjake/internetarchive/assignees{/user}", "branches_url": "https://api.github.com/repos/jjjake/internetarchive/branches{/branch}", "tags_url": "https://api.github.com/repos/jjjake/internetarchive/tags", "blobs_url": "https://api.github.com/repos/jjjake/internetarchive/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/jjjake/internetarchive/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/jjjake/internetarchive/git/refs{/sha}", "trees_url": "https://api.github.com/repos/jjjake/internetarchive/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/jjjake/internetarchive/statuses/{sha}", "languages_url": "https://api.github.com/repos/jjjake/internetarchive/languages", "stargazers_url": "https://api.github.com/repos/jjjake/internetarchive/stargazers", "contributors_url": "https://api.github.com/repos/jjjake/internetarchive/contributors", "subscribers_url": "https://api.github.com/repos/jjjake/internetarchive/subscribers", "subscription_url": "https://api.github.com/repos/jjjake/internetarchive/subscription", "commits_url": "https://api.github.com/repos/jjjake/internetarchive/commits{/sha}", "git_commits_url": "https://api.github.com/repos/jjjake/internetarchive/git/commits{/sha}", "comments_url": "https://api.github.com/repos/jjjake/internetarchive/comments{/number}", "issue_comment_url": "https://api.github.com/repos/jjjake/internetarchive/issues/comments{/number}", "contents_url": "https://api.github.com/repos/jjjake/internetarchive/contents/{+path}", "compare_url": "https://api.github.com/repos/jjjake/internetarchive/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/jjjake/internetarchive/merges", "archive_url": "https://api.github.com/repos/jjjake/internetarchive/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/jjjake/internetarchive/downloads", "issues_url": "https://api.github.com/repos/jjjake/internetarchive/issues{/number}", "pulls_url": "https://api.github.com/repos/jjjake/internetarchive/pulls{/number}", "milestones_url": "https://api.github.com/repos/jjjake/internetarchive/milestones{/number}", "notifications_url": "https://api.github.com/repos/jjjake/internetarchive/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/jjjake/internetarchive/labels{/name}", "releases_url": "https://api.github.com/repos/jjjake/internetarchive/releases{/id}", "deployments_url": "https://api.github.com/repos/jjjake/internetarchive/deployments", "created_at": "2012-08-15T19:18:30Z", "updated_at": "2024-08-23T17:19:34Z", "pushed_at": "2024-08-21T17:29:45Z", "git_url": "git://github.com/jjjake/internetarchive.git", "ssh_url": "git@github.com:jjjake/internetarchive.git", "clone_url": "https://github.com/jjjake/internetarchive.git", "svn_url": "https://github.com/jjjake/internetarchive", "homepage": "", "size": 2402, "stargazers_count": 1576, "watchers_count": 1576, "language": "Python", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "has_discussions": false, "forks_count": 217, "mirror_url": null, "archived": false, "disabled": false, "open_issues_count": 71, "license": {"key": "agpl-3.0", "name": "GNU Affero General Public License v3.0", "spdx_id": "AGPL-3.0", "url": "https://api.github.com/licenses/agpl-3.0", "node_id": "MDc6TGljZW5zZTE="}, "allow_forking": true, "is_template": false, "web_commit_signoff_required": false, "topics": [], "visibility": "public", "forks": 217, "open_issues": 71, "watchers": 1576, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/jjjake/internetarchive/pulls/650"}, "html": {"href": "https://github.com/jjjake/internetarchive/pull/650"}, "issue": {"href": "https://api.github.com/repos/jjjake/internetarchive/issues/650"}, "comments": {"href": "https://api.github.com/repos/jjjake/internetarchive/issues/650/comments"}, "review_comments": {"href": "https://api.github.com/repos/jjjake/internetarchive/pulls/650/comments"}, "review_comment": {"href": "https://api.github.com/repos/jjjake/internetarchive/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/jjjake/internetarchive/pulls/650/commits"}, "statuses": {"href": "https://api.github.com/repos/jjjake/internetarchive/statuses/d31e5c3418b284c5fcc3ef84ac62a9833bd8e3a6"}}, "author_association": "CONTRIBUTOR", "auto_merge": null, "active_lock_reason": null, "resolved_issues": []}
